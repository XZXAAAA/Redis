SETNX 的实现机制
SETNX 是 Redis 的一个原子操作，用于在键不存在时设置键值对。如果键已经存在，则操作失败。

锁的实现：
使用 SETNX 设置一个键（如 my_lock），如果设置成功，表示获取锁。
如果设置失败（键已存在），表示锁已被其他线程或操作持有。

问题：
在同一个线程中，如果已经通过 SETNX 获取了锁，再次调用 SETNX 会失败，因为键已经存在。
这导致同一个线程无法多次获取锁。

2. 锁的可重入性
可重入锁（Reentrant Lock）是指同一个线程可以多次获取同一把锁，而不会阻塞自己。Java 中的 ReentrantLock 就是典型的可重入锁。
SETNX 锁的缺陷：
SETNX 锁是不可重入的，因为它只判断键是否存在，而不关心持有锁的线程是谁。
即使同一个线程已经持有锁，再次调用 SETNX 也会失败。